<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets">

    <ui:composition template="/templates/content.xhtml">

        <ui:define name="nav">
            <ui:include src="templates/navcancel.xhtml"/>
        </ui:define>

        <ui:define name="sidebar">

        </ui:define>

        <ui:define name="content">
            <f:event listener="#{userController.cleanError}" type="preRenderView" />
            <div class="module module-login span4 offset4">
                <h:form class="form-vertical">
                    <div class="module-head">
                        <h3>Retrieve Lost Password</h3>
                    </div>
                    <div class="module-body">
                        <h:panelGroup  class="control-group alert-error" rendered="#{userController.haveMsg()}">
                            <div class="controls clearfix">
                                <label>#{userController.msg}</label>
                            </div>
                        </h:panelGroup >
                        <div class="control-group">
                            <label class="control-label" for="inputUserID">User ID:</label>
                            <div class="controls row-fluid">
                                <h:inputText class="span12" id="inputUserID" value="#{userController.user.userID}"/>
                            </div>
                        </div>
                        <div class="control-group">
                            <div class="controls clearfix">
                                <h:commandButton class="btn pull-right btn-large btn-info" value="Retrieve Information" action="#{userController.retrieveInformation()}"/>
                            </div>
                        </div>
                        
                        <div class="control-group">
                            <label class="control-label" for="securityQuestion">Security Question:</label>
                            <div class="controls row-fluid">
                                <h:inputText class="span12 disabled" id="securityQuestion" value="#{userController.user.securityQuestion}"/>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="securityAnswer">Security Answer:</label>
                            <div class="controls row-fluid">
                                <h:inputText class="span12" id="securityAnswer" value="#{userController.answer}"/>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="inputPassword">New Password:</label>
                            <div class="controls row-fluid">
                                <h:inputSecret class="span12" id="inputPassword" value="#{userController.user.password}"/>
                            </div>
                        </div>
                    </div>
                    <div class="module-foot">
                        <div class="control-group">
                            <div class="controls clearfix">
                                <h:commandButton class="btn pull-right btn-large btn-info" value="Change Password" action="#{userController.changePassword()}"/>
                            </div>
                        </div>
                    </div>
                </h:form>
            </div>

        </ui:define>
    </ui:composition>

</html>
