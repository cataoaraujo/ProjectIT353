<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <ui:composition template="/templates/content.xhtml">

        <ui:define name="nav">
            <ui:include src="/admin/navAdmin.xhtml"/>
        </ui:define>

        <ui:define name="sidebar">
            <ui:include src="/admin/sidebarAdmin.xhtml"/>
        </ui:define>

        <ui:define name="content">
            <div class="span9">
                <div class="content">
                    <div class="btn-controls">

                        <div class="btn-box-row row-fluid">
                            <div class="span8">
                                <div class="btn-box-row row-fluid">
                                    <a href="#" class="btn-box big span6"><i class="icon-user"></i><b>#{adminController.countApprovedUsers()}</b>
                                        <p class="text-muted">
                                            Users</p>
                                    </a><a href="#" class="btn-box big span6"><i class="icon-file"></i><b>#{adminController.countTheses()}</b>
                                        <p class="text-muted">
                                            Theses</p>
                                    </a>
                                </div>
                                <div class="row-fluid">
                                    <div class="span12">
                                        <a href="usersAccounts.xhtml" class="btn-box small span4"><i class="icon-ok-circle"></i><b>Approve Accounts</b>
                                        </a><a href="adminTheses.xhtml" class="btn-box small span4"><i class="icon-star"></i><b>Highlight Theses</b>
                                        </a><a href="#" class="btn-box small span4"><i class="icon-bar-chart"></i><b>Statistics</b>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <ul class="widget widget-usage unstyled span4">
                                <ui:repeat var="c" value="#{adminController.countProjectCourses()}">
                                    <li>
                                        <p>
                                            <strong>#{c[0]}</strong> <span class="pull-right small muted">#{c[1]}</span>
                                        </p>
                                        <div class="progress tight">
                                            <div class="bar" style="width: #{c[1]};">
                                            </div>
                                        </div>
                                    </li>
                                </ui:repeat>                    
                            </ul>
                        </div>
                    </div>
                    <div class="module">
                        <div class="module-head">
                            <h3>
                                Theses Flow
                            </h3>
                        </div>
                        <div class="module-body">
                            <div class="chart">
                                <div id="graph" class="graph">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </ui:define>

        <ui:define name="scripts">
            <script src="/ISURepository/resources/scripts/flot/jquery.flot.js" type="text/javascript"></script>
            <script src="/ISURepository/resources/scripts/flot/jquery.flot.resize.js" type="text/javascript"></script>
            <script>
                var d1 = [[0, 1], [1, 14], [2, 5], [3, 4], [4, 5], [5, 1], [6, 14], [7, 5], [8, 5]];
                var d2 = [[0, 5], [1, 2], [2, 10], [3, 1], [4, 9], [5, 5], [6, 2], [7, 10], [8, 8]];

                var plot = $.plot($("#graph"),
                        [{data: d1, label: "Theses"}, {data: d2, label: "Users"}], {
                    lines: {
                        show: true,
                        fill: false,
                        lineWidth: 2
                    },
                    points: {
                        show: true,
                        lineWidth: 5
                    },
                    grid: {
                        clickable: false,
                        hoverable: false,
                        autoHighlight: true,
                        mouseActiveRadius: 10,
                        aboveData: true,
                        backgroundColor: "#fafafa",
                        borderWidth: 0,
                        minBorderMargin: 25,
                    },
                    colors: ["#008ec3", "#3cbc8d"],
                    shadowSize: 0
                });
            </script>
        </ui:define>

    </ui:composition>




</html>
